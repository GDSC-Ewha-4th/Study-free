## 블록 및 객체 스토리지

- 블록 스토리지(EBS): 해당 글자가 포함된 블록 하나를 변경한다. 메타데이터는 한 블록 당 4MB로 제한되어 있다. EBS 같은 경우에는 가용 영역 간에 공유가 불가능하다. 만약 EBS를 백업하고 싶다면 AMI 이미지를 주기적으로 찍어야 한다. 이미지는 같은 리전 간에서 공유 가능하다.
- 객체 스토리지: 전체 파일을 업데이트한다. 파일 계층 구조가 전혀 없기 때문에 메타데이터도 무제한이다. 대표적으로는 S3가 포함된다. 단, 파일을 수정하고 싶을 때 파일 시스템처럼 파일을 수정하고 저장하는 것이 아니라, 파일을 삭제하고, 수정 버전을 다시 올려야 한다. 파일을 찾을 때는 파일 자체에 태그가 달려 있어서 찾을 수 있다.

(대부분의 경우 EBS가 답이다. OS가 어플리케이션을 설치할 때는 블록 스토리지가 기본이기 때문이다.)

## S3

- 99.99999999%의 가용성을 보장한다(일레븐 나인)
- 계층 구조 없이, 객체 수준의 스토리지를 제공한다.
- 서울 리전에 있는 버킷에서, 서울 리전으로 데이터를 전송할 경우 무료이다. 즉, 같은 리전 안에서는 무료이다.
- 전송 데이터와 저장 데이터는 자동으로 암호화한다. 버킷 정책에서 암호화되지 않는 데이터는 애초에 들어올 수 없게 만들어져 있다.
- URL: https://리전코드/amazonaws.com/버킷이름
- S3로 수신하는 경우는 기본적으로 무료, S3에서 송신하는 경우는 같은 리전 안에서만 무료이다.

option

- 스탠다드: Infrequent Access Mode가 있다(AWS에서 자동으로 판단해서 모드를 전환함). 이는 데이터를 가져오는 비용이 일정하지 않는 경우 비용이 저렴하게 데이터를 저장하는 것이다.
- Glacier: 저장은 많이 하는데 데이터를 불러오는 경우가 거의 없을 경우. 예를 들어 은행의 경우, 고객의 개인정보를 5년 동안 저장해 놔야 한다. 거의 데이터를 불러올 일이 없기 때문에 저장 비용은 극단적으로 줄일 수 있다. 데이터를 불러오는 데는 몇 시간이 걸린다.

수명 주기 정책

- 수명 주기 정책을 사용하면 생성 후 기간을 기준으로 객체를 삭제 또는 제거할 수 있다. 예를 들어, 어떤 데이터가 처음 한 달 동안에만 자주 사용되고 그 후에는 거의 사용되지 않는다고 하면, 스탠다드 → Glacier 옵션으로 만들 수 있다.

## RDS

- 관계형 데이터베이스를 설정하고 운영할 수 있다.
- 데이터베이스 엔진이 이미 설치되어 있는 채로 서비스를 제공한다.
- 제공하는 데이터베이스 엔진: MySQL, PostgreSQL, Aurora…

사용하는 상황

- 단일 작업자 노드/샤드를 사용

사용하지 말아야 하는 상황

- 대규모 읽기/쓰기
- 빅데이터 사용