## IAM(Identity Access Management)

IAM은 사람이 로그인을 할 수 있게 도와주고, 그렇게 로그인한 후 RBAC(Role-Based Access Control)를 통해서 그 사람에 대한 권한을 컨트롤할 수 있다. IAM은 어떤 리소스와 어떤 작업을 사용할 수 있는 지를 결정한다.

- IAM User: 로그인할 사람이다.
- IAM Role: 사람이나 서비스가 될 수 있다.
- IAM Group: 유저와 롤을 묶은 것이다.
- IAM Policy: 유저에게 권한을 주고 싶으면 정책을 만들어서 유저에게 붙여야 한다. 유저에게 Assume Role를 주고, 정책을 만들어서 롤에 붙여주면 사용자는 필요한 권한을 얻을 수 있다. assume role은 필요한 권한을 찾아가서 그 권한을 role에 붙일 수 있는 role이다. 그룹에 권한을 주고 사용자를 그룹에 넣으면, 사용자는 자연스럽게 그룹의 권한을 얻는다.

권한 평가 방법

- Deny 우선 → Allow 나중(즉, 명시적으로 거부되어 있으면 명시적으로 허용되어 있다고 해도 거부된다.)

## 보안 자격 증명

MFA: OPT같은 임시적인 자격 증명

## AWS 사용 첫날

1. Root 계정은 소유, IAM 사용자를 생성해서 사용
2. IAM 사용자에 MFA 걸어 놓고, 해당 MFA를 스마트폰이 아닌 물리적 OPT 등에 할당
3. 해당 물리 장비를 금고에 저장
4. CloudTrail 활성화
    - 계정의 리소스에 대한 모든 API 요청을 로깅한다. 즉, 어떤 리소스가 누구에 의해 만들어지고 삭제되는지를 트레킹할 수 있다. 활성화하지 않으면 90일 동안만 로그가 쌓이고, 활성화하면 무한정으로 로그가 쌓이며 해당 로그는 S3에 저장된다(비용 발생)
5. Config를 통해 리소스에 대한 변경 추적
    - 리소스 인벤토리, 구성 내역 및 구성 변경 알림을 제공한다. 구성 변경에 대한 세부 정보를 계속 제공한다. 누가 만들고 삭제했는지를 모니터링 가능하다.
6. 결제 보고서 활성화